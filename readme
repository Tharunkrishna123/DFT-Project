# ðŸ§ª Scan Insertion â€“ Design for Testability (DFT)

## ðŸ“Œ Overview
**Scan Insertion** is a key step in **Design for Testability (DFT)**.  
It modifies a digital circuitâ€™s flip-flops into **scan flip-flops (SFFs)** and stitches them together into **scan chains**, enabling easy controllability and observability of internal states during manufacturing test.

This process makes the circuit behave like a **pseudo-combinational design** during test mode, allowing **Automatic Test Pattern Generation (ATPG)** tools to achieve high fault coverage.

---

## âš¡ Why Scan Insertion?
- Sequential circuits are hard to test since internal states depend on prior inputs.
- Normal flip-flops have poor **observability** and **controllability**.
- Scan insertion solves this by:
  - Breaking sequential depth.
  - Allowing test vectors to be shifted in/out.
  - Enabling high fault coverage (stuck-at, transition, etc.).

---

## ðŸ”§ How It Works
1. **Scan Flip-Flop (SFF):**
   - A normal FF is replaced with a scan-enabled FF.
   - Input multiplexer chooses between:
     - Functional input (**D**) â€“ normal mode.
     - Scan input (**SI**) â€“ test mode.

2. **Scan Enable (SE):**
   - Control signal for switching between functional and test mode.
   - `SE = 0 â†’ Normal operation`
   - `SE = 1 â†’ Scan shift mode`

3. **Scan Chain:**
   - All scan FFs are connected serially (Q â†’ SI of next FF).
   - Multiple chains are used in large designs to reduce test time.

4. **Test Flow:**
   - **Shift-In:** Load test vectors through scan chain.
   - **Capture:** Apply one or more functional clocks to capture response.
   - **Shift-Out:** Read out captured response for comparison.

---

## ðŸ“‚ Typical DFT Flow
1. **Identify** flip-flops for scan.
2. **Replace** them with scan-enabled FFs from library.
3. **Stitch** scan chains (balance lengths if multiple).
4. **Verify** scan functionality (simulation).
5. **Generate** ATPG test patterns.

---

## ðŸ“Š Key Metrics
- **Scan Coverage:** % of FFs converted to scan FFs.
- **Fault Coverage:** % of faults detected by ATPG patterns.
- **Test Time:** Depends on scan chain length and number.
- **Overheads:** Slight area, timing, and power increase.

---

## âœ… Summary
- Scan insertion is essential for making designs testable.  
- It provides **controllability** and **observability** by converting FFs into scan FFs.  
- With ATPG, it achieves **high fault coverage** in manufacturing test.  

---

---

